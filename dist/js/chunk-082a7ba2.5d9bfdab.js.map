{"version":3,"sources":["webpack:///./src/pages/auth/UserAuth.vue","webpack:///./src/pages/auth/UserAuth.vue?9126","webpack:///./src/pages/auth/UserAuth.vue?32e6"],"names":["class","_createElementVNode","for","_createElementBlock","_createVNode","_component_base_dialog","show","$data","error","title","onClose","$options","handleError","_toDisplayString","fixed","isLoading","_component_base_spinner","_component_base_card","onSubmit","_cache","_withModifiers","args","submitForm","_hoisted_1","_hoisted_2","type","id","email","$event","_hoisted_3","_hoisted_4","password","formIsValid","_hoisted_5","_component_base_button","submitButtonCaption","mode","onClick","switchAuthMode","switchModeButtonCaption","data","computed","this","methods","includes","length","$store","dispatch","redirectUrl","$route","query","redirect","$router","replace","message","__exports__","render"],"mappings":"6OAUaA,MAAM,gB,QACTC,eAAgC,SAAzBC,IAAI,SAAQ,SAAK,I,GAGrBF,MAAM,gB,QACTC,eAAsC,SAA/BC,IAAI,YAAW,YAAQ,I,+LAdtCC,eA2BM,YA1BJC,eAEcC,EAAA,CAFAC,OAAQC,EAAAC,MAAOC,MAAM,oBAAqBC,QAAOC,EAAAC,a,wBAC7D,IAAkB,CAAlBX,eAAkB,SAAAY,eAAZN,EAAAC,OAAK,K,2BAEbJ,eAEcC,EAAA,CAFDS,MAAA,GAAOR,KAAMC,EAAAQ,UAAWN,MAAM,oB,wBACzC,IAA6B,CAA7BL,eAA6BY,K,iBAE/BZ,eAmBYa,EAAA,M,uBAlBV,IAiBO,CAjBPhB,eAiBO,QAjBAiB,SAAMC,EAAA,KAAAA,EAAA,GAAAC,eAAA,IAAAC,IAAUV,EAAAW,YAAAX,EAAAW,cAAAD,GAAU,e,CAC/BpB,eAGM,MAHNsB,EAGM,CAFJC,E,eACAvB,eAAsD,SAA/CwB,KAAK,QAAQC,GAAG,Q,qCAAsBnB,EAAAoB,MAAKC,I,mBAALrB,EAAAoB,W,SAAd,QAEjC1B,eAGM,MAHN4B,EAGM,CAFJC,E,eACA7B,eAA+D,SAAxDwB,KAAK,WAAWC,GAAG,W,qCAAyBnB,EAAAwB,SAAQH,I,mBAARrB,EAAAwB,c,SAAd,QAE7BxB,EAAAyB,Y,wCAAV7B,eAGI,IAAA8B,EAHmB,mFAIvB7B,eAAoD8B,EAAA,M,uBAAvC,IAAyB,C,8BAAtBvB,EAAAwB,qBAAmB,K,MACnC/B,eAEc8B,EAAA,CAFDT,KAAK,SAASW,KAAK,OAAQC,QAAO1B,EAAA2B,gB,wBAC7C,IAA6B,C,8BAA1B3B,EAAA4B,yBAAuB,K,mCAQrB,OACbC,OACE,MAAO,CACLb,MAAO,GACPI,SAAU,GACVC,aAAa,EACbI,KAAM,QACNrB,WAAW,EACXP,MAAO,OAGXiC,SAAU,CACRN,sBACE,MAAkB,UAAdO,KAAKN,KACA,QAEA,UAGXG,0BACE,MAAkB,UAAdG,KAAKN,KACA,iBAEA,kBAIbO,QAAS,CACP,mBAGE,GADAD,KAAKV,aAAc,EAEF,KAAfU,KAAKf,QACJe,KAAKf,MAAMiB,SAAS,MACrBF,KAAKX,SAASc,OAAS,EAEvBH,KAAKV,aAAc,MALrB,CASA,IACoB,UAAdU,KAAKN,WACDM,KAAKI,OAAOC,SAAS,QAAS,CAClCpB,MAAOe,KAAKf,MACZI,SAAUW,KAAKX,iBAGXW,KAAKI,OAAOC,SAAS,SAAU,CACnCpB,MAAOe,KAAKf,MACZI,SAAUW,KAAKX,WAInB,MAAMiB,EAAc,KAAON,KAAKO,OAAOC,MAAMC,UAAY,WACzDT,KAAKU,QAAQC,QAAQL,GACrB,MAAOxC,GACPkC,KAAKlC,MAAQA,EAAM8C,SAAW,oCAGhCZ,KAAK3B,WAAY,IAGnBuB,iBACoB,UAAdI,KAAKN,KACPM,KAAKN,KAAO,SAEZM,KAAKN,KAAO,SAGhBxB,cACE8B,KAAKlC,MAAQ,Q,iCC/FnB,MAAM+C,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,kCCTf","file":"js/chunk-082a7ba2.5d9bfdab.js","sourcesContent":["<template>\n  <div>\n    <base-dialog :show=\"!!error\" title=\"An error occurred\" @close=\"handleError\">\n      <p>{{ error }}</p>\n    </base-dialog>\n    <base-dialog fixed :show=\"isLoading\" title=\"Authenticating..\">\n      <base-spinner></base-spinner>\n    </base-dialog>\n    <base-card>\n      <form @submit.prevent=\"submitForm\">\n        <div class=\"form-control\">\n          <label for=\"email\">Email</label>\n          <input type=\"email\" id=\"email\" v-model.trim=\"email\" />\n        </div>\n        <div class=\"form-control\">\n          <label for=\"password\">Password</label>\n          <input type=\"password\" id=\"password\" v-model.trim=\"password\" />\n        </div>\n        <p v-if=\"!formIsValid\">\n          Please enter a valid email and password (must be at least 6 characters\n          long)\n        </p>\n        <base-button>{{ submitButtonCaption }}</base-button>\n        <base-button type=\"button\" mode=\"flat\" @click=\"switchAuthMode\">\n          {{ switchModeButtonCaption }}\n        </base-button>\n      </form>\n    </base-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      email: '',\n      password: '',\n      formIsValid: true,\n      mode: 'login',\n      isLoading: false,\n      error: null,\n    };\n  },\n  computed: {\n    submitButtonCaption() {\n      if (this.mode === 'login') {\n        return 'login';\n      } else {\n        return 'signup';\n      }\n    },\n    switchModeButtonCaption() {\n      if (this.mode === 'login') {\n        return 'signup instead';\n      } else {\n        return 'login instead';\n      }\n    },\n  },\n  methods: {\n    async submitForm() {\n      //validation\n      this.formIsValid = true;\n      if (\n        this.email === '' ||\n        !this.email.includes('@') ||\n        this.password.length < 6\n      ) {\n        this.formIsValid = false;\n        return;\n      }\n\n      try {\n        if (this.mode === 'login') {\n          await this.$store.dispatch('login', {\n            email: this.email,\n            password: this.password,\n          });\n        } else {\n          await this.$store.dispatch('signup', {\n            email: this.email,\n            password: this.password,\n          });\n        }\n\n        const redirectUrl = '/' + (this.$route.query.redirect || 'coaches');\n        this.$router.replace(redirectUrl);\n      } catch (error) {\n        this.error = error.message || 'Failed to authenticate, try later';\n      }\n\n      this.isLoading = false;\n    },\n\n    switchAuthMode() {\n      if (this.mode === 'login') {\n        this.mode = 'sighup';\n      } else {\n        this.mode = 'login';\n      }\n    },\n    handleError() {\n      this.error = null;\n    },\n  },\n};\n</script>\n\n<style scoped>\nform {\n  margin: 1rem;\n  padding: 1rem;\n}\n\n.form-control {\n  margin: 0.5rem 0;\n}\n\nlabel {\n  font-weight: bold;\n  margin-bottom: 0.5rem;\n  display: block;\n}\n\ninput,\ntextarea {\n  display: block;\n  width: 100%;\n  font: inherit;\n  border: 1px solid #ccc;\n  padding: 0.15rem;\n}\n\ninput:focus,\ntextarea:focus {\n  border-color: #3d008d;\n  background-color: #faf6ff;\n  outline: none;\n}\n</style>\n","import { render } from \"./UserAuth.vue?vue&type=template&id=3a85f5f9&scoped=true\"\nimport script from \"./UserAuth.vue?vue&type=script&lang=js\"\nexport * from \"./UserAuth.vue?vue&type=script&lang=js\"\n\nimport \"./UserAuth.vue?vue&type=style&index=0&id=3a85f5f9&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/liisosmanova/Desktop/main-prj-01-starting-setup/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3a85f5f9\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UserAuth.vue?vue&type=style&index=0&id=3a85f5f9&scoped=true&lang=css\""],"sourceRoot":""}